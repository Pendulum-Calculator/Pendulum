{"version":3,"sources":["../js/pendulum.js"],"names":["window","$","jQuery","require","utility","UI","loadTags","loadShelves","loadReference","Graphics","Graphics2D","Graphics3D","canvas","document","getElementById","console","log","graphics","g2d","g3d","attach","addGrid","intervals","holder","i","length","i_1","vMin","vMax","majorLines","minorLines","index","j","Math","round","coord","v1Min","v1Max","i_2","v2Min","v2Max","i_3","gap","k"],"mappings":"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","sourcesContent":["/* jshint esversion: 6 */\r\nwindow.$ = window.jQuery = require(\"jquery\");\r\nrequire(\"../css/pendulum.css\");\r\n$(() => {\r\n    var utility = require('./utility.js');\r\n    let UI = require('./ui.js');\r\n    UI.loadTags();\r\n    UI.loadShelves();\r\n    UI.loadReference();\r\n    let {\r\n        Graphics,\r\n        Graphics2D,\r\n        Graphics3D\r\n    } = require('./canvas/graphics.js');\r\n    let canvas = document.getElementById(\"graphpanel\");\r\n    console.log(canvas);\r\n    let graphics = {\r\n        g2d: new Graphics2D(canvas),\r\n        g3d: new Graphics3D(canvas)\r\n    };\r\n    graphics.g3d.attach();\r\n    graphics.g2d.addGrid((intervals, holder) => {\r\n        /*[x:[major:[mark 0:[x1, y1, z1], 1:[x2,y2,z2], ...],minor:[...]],\r\n         *                                     y:[major:[mark 0:[x1, y1, z1], 1:[x2,y2,z2], ...],...],...]\r\n         */\r\n        for (let i = 0; i < intervals.length; i++) {\r\n            let i_1 = (i + 1) % intervals.length;\r\n            let vMin = intervals[i_1][0],\r\n                vMax = intervals[i_1][1];\r\n            let majorLines = holder[i][0];\r\n            let minorLines = holder[i][1];\r\n            let index = 0;\r\n            for (let j = Math.round(vMin / 5) * 5; j <= vMax; j += 5) {\r\n                let coord = [0, 0, 0];\r\n                coord[i_1] = j;\r\n                majorLines[index] = coord;\r\n                index++;\r\n            }\r\n            index = 0;\r\n            for (let j = Math.round(vMin); j <= vMax; j += 0.5) {\r\n                let coord = [0, 0, 0];\r\n                coord[i_1] = j;\r\n                minorLines[index] = coord;\r\n                index++;\r\n            }\r\n        }\r\n        return holder;\r\n    });\r\n    graphics.g3d.addGrid((intervals, holder) => {\r\n        /*[x:[major:[mark 0:[x1, y1, z1], 1:[x2,y2,z2], ...],minor:[...]],\r\n         *                                     y:[major:[mark 0:[x1, y1, z1], 1:[x2,y2,z2], ...],...],...]\r\n         */\r\n        for (let i = 0; i < intervals.length; i++) {\r\n            let i_1 = (i + 1) % intervals.length;\r\n            let v1Min = intervals[i_1][0],\r\n                v1Max = intervals[i_1][1];\r\n            let i_2 = (i + 2) % intervals.length;\r\n            let v2Min = intervals[i_2][0],\r\n                v2Max = intervals[i_2][1];\r\n            let i_3 = (i + 1) % 2;\r\n            let vMin = intervals[i_3][0],\r\n                vMax = intervals[i_3][1];\r\n            let majorLines = holder[i][0];\r\n            let minorLines = holder[i][1];\r\n            let index = 0;\r\n            let gap = 5;\r\n            // for(let j = 0; j<majorLines.length; j++)\r\n            //     majorLines[j]=[0,0,0];\r\n            // for(let j = 0; j<minorLines.length; j++)\r\n            //     minorLines[j]=[0,0,0];\r\n            \r\n            for (let j = Math.round(v1Min / gap) * gap + gap; j <= v1Max - gap; j += gap) {\r\n                for (let k = Math.round(v2Min / gap) * gap + gap; k <= v2Max - gap; k += gap) {\r\n                    let coord = [0, 0, 0];\r\n                    coord[i_1] = j;\r\n                    coord[i_2] = k;\r\n                    majorLines[index] = coord;\r\n                    index++;\r\n                }\r\n            }\r\n            index = 0;\r\n            if (i != 2) {\r\n                for (let j = Math.round(vMin); j <= vMax; j += 0.5) {\r\n                    let coord = [0, 0, 0];\r\n                    coord[i_3] = j;\r\n                    minorLines[index] = coord;\r\n                    index++;\r\n                }\r\n            }\r\n        }\r\n        return holder;\r\n    });\r\n});"],"file":"pendulum.js"}